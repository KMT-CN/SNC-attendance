services:
  frontend:
    image: kmtcn/snc-attendance-frontend:latest
    build:
      context: .
      dockerfile: Dockerfile
    container_name: snc-attendance-frontend
    restart: always
    environment:
      # ğŸ”§ åç«¯ API åœ°å€ (Nginx åå‘ä»£ç†ç”¨)
      # åˆ†ç¦»éƒ¨ç½²æ—¶ï¼šå¡«å†™åç«¯æœåŠ¡å™¨çš„å®é™…åœ°å€ï¼Œä¾‹å¦‚ http://192.168.1.100:10234
      # æœ¬åœ°åˆ†ç¦»æµ‹è¯•ï¼šå¯ä»¥ä½¿ç”¨ http://host.docker.internal:10234 (éœ€ Docker æ”¯æŒ)
      - BACKEND_API_URL=http://host.docker.internal:10234
      # ğŸ”§ å‰ç«¯ JS è¯·æ±‚çš„ API åŸºç¡€è·¯å¾„ (å¯é€‰)
      # é»˜è®¤ä¸º /api (èµ° Nginx åä»£)ã€‚å¦‚æœéœ€è¦å‰ç«¯ç›´è¿åç«¯ï¼Œå¯ä¿®æ”¹ä¸ºç»å¯¹è·¯å¾„
      - JS_API_BASE_URL=/api
    ports:
      - "127.0.0.1:8080:80" # å°†å‰ç«¯æ˜ å°„åˆ° 8080 ç«¯å£
    networks:
      - attendance-network

networks:
  attendance-network:
    driver: bridge
